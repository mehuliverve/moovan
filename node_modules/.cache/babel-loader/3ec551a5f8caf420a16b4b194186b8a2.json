{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Xamarin\\\\Downloads\\\\reactnavbar-main\\\\src\\\\components\\\\Filter.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\n//This class is our app. Inside of it, there is a list class, which is itself made of list items.\nclass Filter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [{\n        id: 1,\n        item: 'Baguette',\n        place: 'Paris, FR',\n        vote: 150,\n        voted: false,\n        display: true\n      }, {\n        id: 2,\n        item: 'Quiche Lorraine',\n        place: 'Nancy, FR',\n        vote: 200,\n        voted: true,\n        display: true\n      }, {\n        id: 3,\n        item: 'Croissant',\n        place: 'London, UK',\n        vote: 50,\n        voted: false,\n        display: true\n      }, {\n        id: 4,\n        item: 'Quiche',\n        place: 'NYC, USA',\n        vote: 20,\n        voted: false,\n        display: true\n      }, {\n        id: 5,\n        item: 'Quiche',\n        place: 'Singapore, SGP',\n        vote: 10,\n        voted: false,\n        display: true\n      }, {\n        id: 6,\n        item: 'Croissant',\n        place: 'Singapore, SGP',\n        vote: 10,\n        voted: false,\n        display: true\n      }, {\n        id: 7,\n        item: 'Quiche',\n        place: 'Barcelona, SP',\n        vote: 0,\n        voted: false,\n        display: true\n      }, {\n        id: 8,\n        item: 'Quiche',\n        place: 'Paris, FR',\n        vote: 149,\n        voted: false,\n        display: true\n      }, {\n        id: 9,\n        item: 'Macarons',\n        place: 'Nancy, FR',\n        vote: 201,\n        voted: false,\n        display: true\n      }, {\n        id: 10,\n        item: 'Tart',\n        place: 'Barcelona, SP',\n        vote: 3,\n        voted: false,\n        display: true\n      }],\n      filterShow: false,\n      filter: ''\n    };\n  } //show or hide the filters section\n\n\n  expendFilters(event) {\n    this.setState({\n      items: this.state.items,\n      filterShow: !this.state.filterShow,\n      filter: ''\n    });\n  } //this update the state with the selected filter to order the list\n\n\n  handleChange(value) {\n    this.setState({\n      items: this.state.items,\n      filterShow: this.state.filterShow,\n      filter: value\n    });\n  } //this handle the search bar. Only products with the same name value will appear in the list\n\n\n  onChange() {\n    let newValue = document.getElementById('searchBar').value.toLowerCase();\n    console.log(newValue);\n    let newTab = this.state.items.slice();\n    newTab.forEach(product => {\n      let include = product.item.toLowerCase().includes(newValue);\n      include ? product.display = true : product.display = false;\n    });\n    this.setState({\n      items: newTab,\n      filterShow: this.state.filterShow,\n      filter: this.state.filter\n    });\n  } //this handle the sorting of the list. I t will depend on the filter we choose.\n\n\n  sortResults() {\n    const filter = this.state.filter;\n    let newTab = this.state.items.slice();\n\n    if (this.state.filter === 'vote') {\n      newTab.sort(function (a, b) {\n        return b.vote - a.vote;\n      });\n    } else if (this.state.filter === 'city') {\n      newTab.sort(function (a, b) {\n        if (a.place < b.place) return -1;\n        if (a.place > b.place) return 1;\n        return 0;\n      });\n    } else if (this.state.filter === 'product') {\n      newTab.sort(function (a, b) {\n        if (a.item < b.item) return -1;\n        if (a.item > b.item) return 1;\n        return 0;\n      });\n    }\n\n    if (filter === '') {\n      this.setState({\n        items: newTab,\n        filterShow: this.state.filterShow,\n        filter: this.state.filter\n      });\n    } else {\n      this.setState({\n        items: newTab,\n        filterShow: false,\n        filter: this.state.filter\n      });\n    }\n  } //this function handles the vote. We can only vote once for a product. This will reorder the list if a filter is in the state.\n\n\n  updateMark(id) {\n    let newItem = this.state.items.slice();\n    const index = newItem.findIndex(i => i.id === id);\n\n    if (newItem[index].voted) {\n      newItem[index].vote -= 1;\n    } else {\n      newItem[index].vote += 1;\n    }\n\n    newItem[index].voted = !this.state.items[index].voted;\n    this.setState({\n      items: newItem,\n      filterShow: this.state.filterShow,\n      filter: this.state.filter\n    });\n    this.sortResults();\n  }\n\n  render() {\n    let filterState = 'hideFilter';\n\n    if (this.state.filterShow) {\n      filterState = 'showFilter';\n    } else {\n      filterState = 'hideFilter';\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filterElt\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"search\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Search...\",\n          id: \"searchBar\",\n          onChange: () => this.onChange()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: event => this.expendFilters(event),\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-sliders\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 59\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: filterState,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"radioFilter\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              value: \"product\",\n              id: \"product\",\n              name: \"filterResults\",\n              onChange: event => this.handleChange(event.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"product\",\n              children: \"Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              value: \"city\",\n              id: \"city\",\n              name: \"filterResults\",\n              onChange: event => this.handleChange(event.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"city\",\n              children: \"City\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              value: \"vote\",\n              id: \"vote\",\n              name: \"filterResults\",\n              onChange: event => this.handleChange(event.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"vote\",\n              children: \"Vote\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"okBtn\",\n          onClick: () => this.sortResults(),\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Sort\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 65\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        items: this.state.items,\n        updateMark: id => this.updateMark(id)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 4\n    }, this);\n  }\n\n} //This class render the whole list of products\n\n\nvar List = React.createClass({\n  displayName: \"List\",\n\n  render() {\n    let itemsToDisplay = this.props.items.map(i => {\n      return /*#__PURE__*/_jsxDEV(ListItem, {\n        id: i.id,\n        item: i.item,\n        vote: i.vote,\n        place: i.place,\n        voted: i.voted,\n        display: i.display,\n        updateMark: () => this.props.updateMark(i.id)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: itemsToDisplay\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 4\n    }, this);\n  }\n\n}); //This class render a component from the list\n\n_c = List;\nvar ListItem = React.createClass({\n  displayName: \"ListItem\",\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      id: this.props.id,\n      className: this.props.display ? 'itemShow' : 'itemHide',\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"itemPresentation\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: this.props.item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: this.props.place\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"itemDetail\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [this.props.vote, \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-thumbs-up\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => this.props.updateMark(),\n        children: this.props.voted ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-thumbs-up\",\n          \"aria-hidden\": \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 69\n        }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-thumbs-o-up\",\n          \"aria-hidden\": \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 122\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 4\n    }, this);\n  }\n\n});\n_c2 = ListItem;\nexport default Filter;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"List\");\n$RefreshReg$(_c2, \"ListItem\");","map":{"version":3,"sources":["C:/Users/Xamarin/Downloads/reactnavbar-main/src/components/Filter.js"],"names":["Filter","React","Component","constructor","props","state","items","id","item","place","vote","voted","display","filterShow","filter","expendFilters","event","setState","handleChange","value","onChange","newValue","document","getElementById","toLowerCase","console","log","newTab","slice","forEach","product","include","includes","sortResults","sort","a","b","updateMark","newItem","index","findIndex","i","render","filterState","target","List","createClass","itemsToDisplay","map","ListItem"],"mappings":"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","sourcesContent":["//This class is our app. Inside of it, there is a list class, which is itself made of list items.\r\nclass Filter extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\titems:[\r\n        {id: 1, item: 'Baguette', place: 'Paris, FR', vote:150, voted:false, display:true},\r\n        {id: 2, item: 'Quiche Lorraine', place: 'Nancy, FR', vote:200, voted:true, display:true},\r\n        {id: 3, item: 'Croissant', place: 'London, UK', vote:50, voted:false, display:true},\r\n        {id: 4, item: 'Quiche', place: 'NYC, USA', vote:20, voted:false, display:true},\r\n\t\t\t\t{id: 5, item: 'Quiche', place: 'Singapore, SGP', vote:10, voted:false, display:true},\r\n\t\t\t\t{id: 6, item: 'Croissant', place: 'Singapore, SGP', vote:10, voted:false, display:true},\r\n\t\t\t\t{id: 7, item: 'Quiche', place: 'Barcelona, SP', vote:0, voted:false, display:true},\r\n\t\t\t\t{id: 8, item: 'Quiche', place: 'Paris, FR', vote:149, voted:false, display:true},\r\n\t\t\t\t{id: 9, item: 'Macarons', place: 'Nancy, FR', vote:201, voted:false, display:true}, \r\n\t\t\t\t{id: 10, item: 'Tart', place: 'Barcelona, SP', vote:3, voted:false, display:true},\r\n\t\t\t],\r\n\t\t\tfilterShow : false, \r\n\t\t\tfilter: ''\r\n\t\t}\r\n\t}\r\n\t\r\n\t//show or hide the filters section\r\n\texpendFilters(event){\r\n\t\tthis.setState({items:this.state.items, filterShow:!this.state.filterShow, filter:''});\r\n\t}\r\n\t\r\n\t//this update the state with the selected filter to order the list\r\n\thandleChange(value){\r\n\t\tthis.setState({items:this.state.items, filterShow:this.state.filterShow, filter:value})\r\n\t}\r\n\t\r\n\t//this handle the search bar. Only products with the same name value will appear in the list\r\n\tonChange(){\r\n    let newValue = document.getElementById('searchBar').value.toLowerCase();\r\n\t\tconsole.log(newValue);\r\n    let newTab = this.state.items.slice();\r\n    newTab.forEach(product=>{\r\n      let include = product.item.toLowerCase().includes(newValue);\r\n      include?product.display=true:product.display=false;\r\n    });\r\n    this.setState({items:newTab, filterShow:this.state.filterShow, filter:this.state.filter});\r\n  }\r\n\t\r\n\t//this handle the sorting of the list. I t will depend on the filter we choose.\r\nsortResults(){\r\n\t\tconst filter = this.state.filter;\r\n\t\tlet newTab = this.state.items.slice();\r\n\t\tif(this.state.filter==='vote'){\r\n\t\t\tnewTab.sort(function(a, b) {return (b.vote) - (a.vote);\t});\r\n\t\t}else if(this.state.filter==='city'){\r\n\t\t\tnewTab.sort(function(a, b){\r\n\t\t\t\tif(a.place < b.place) return -1;\r\n\t\t\t\tif(a.place > b.place) return 1;\r\n\t\t\t\treturn 0;\r\n\t\t\t});\r\n\t\t}else if(this.state.filter==='product'){\r\n\t\t\tnewTab.sort(function(a, b){\r\n\t\t\t\tif(a.item < b.item) return -1;\r\n\t\t\t\tif(a.item > b.item) return 1;\r\n\t\t\t\treturn 0;\r\n\t\t\t});\r\n\t\t}\r\n\t\tif(filter===''){\r\n\t\t\tthis.setState({items:newTab, filterShow:this.state.filterShow, filter:this.state.filter}); \r\n\t\t}else{\r\n\t\tthis.setState({items:newTab, filterShow:false, filter:this.state.filter}); \r\n\t\t}\r\n\r\n\t}\r\n\t\t\r\n\t//this function handles the vote. We can only vote once for a product. This will reorder the list if a filter is in the state.\r\n\tupdateMark(id){\r\n\t\tlet newItem = this.state.items.slice();\r\n\t\tconst index = newItem.findIndex(i => i.id===id);\r\n\t\tif(newItem[index].voted){\r\n\t\t\tnewItem[index].vote -= 1;\r\n\t\t}else{\r\n\t\t\tnewItem[index].vote += 1;\r\n\t\t}\r\n\t\tnewItem[index].voted = !this.state.items[index].voted;\r\n\t\tthis.setState({items:newItem, filterShow:this.state.filterShow, filter:this.state.filter});\r\n\t\tthis.sortResults();\r\n\t}\r\n\t\r\n\trender(){\r\n\t\tlet filterState = 'hideFilter';\r\n    if(this.state.filterShow){\r\n        filterState = 'showFilter';\r\n      }else {\r\n        filterState = 'hideFilter';\r\n     }\r\n\t\t\r\n\t\treturn(\r\n\t\t\t<div className='filterElt'>\r\n\t\t\t\t<div id='search'>\r\n\t\t\t\t\t<input placeholder='Search...' id='searchBar' onChange={()=>this.onChange()}/>\r\n\t\t\t\t\t<button onClick={(event)=>this.expendFilters(event)}><i className=\"fa fa-sliders\" aria-hidden=\"true\" /></button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={filterState}>\r\n\t\t\t\t\t<div className='radioFilter'>\r\n            <div>\r\n\t\t\t\t\t\t\t<input type='radio'value='product'id='product' name='filterResults' onChange={(event)=>this.handleChange(event.target.value)} />\r\n\t\t\t\t\t\t\t<label htmlFor='product'>Product</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<input type='radio'value='city'id='city' name='filterResults'  onChange={(event)=>this.handleChange(event.target.value)} />\r\n\t\t\t\t\t\t\t<label htmlFor='city'>City</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<input type='radio'value='vote'id='vote' name='filterResults'  onChange={(event)=>this.handleChange(event.target.value)} />\r\n\t\t\t\t\t\t\t<label htmlFor='vote'>Vote</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button className='okBtn' onClick={()=>this.sortResults()}><h2>Sort</h2></button>\r\n        </div>\r\n\t\t\t\t<List items={this.state.items} updateMark={(id)=>this.updateMark(id)} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n//This class render the whole list of products\r\nvar List = React.createClass({\t\r\n\trender(){\r\n\t\tlet itemsToDisplay = this.props.items.map(i=>{\r\n      return (<ListItem id={i.id} item={i.item} vote={i.vote} place={i.place} voted={i.voted} display={i.display} updateMark={()=>this.props.updateMark(i.id)} />);\r\n    });\r\n\t\treturn(\r\n\t\t\t<ul>\r\n\t\t\t\t{itemsToDisplay}\r\n\t\t\t</ul>\r\n\t\t);\r\n\t}\t\r\n});\r\n\r\n//This class render a component from the list\r\nvar ListItem = React.createClass({\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<li id={this.props.id} className={this.props.display?'itemShow':'itemHide'}>\r\n\t\t\t\t<div className='itemPresentation'>\r\n\t\t\t\t\t<h2>{this.props.item}</h2>\r\n\t\t\t\t\t<p>{this.props.place}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='itemDetail'>\r\n\t\t\t\t\t<p>{this.props.vote} <i className=\"fa fa-thumbs-up\" aria-hidden=\"true\" /></p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button onClick={()=>this.props.updateMark()}>{this.props.voted?<i className=\"fa fa-thumbs-up\" aria-hidden=\"true\" />:<i className=\"fa fa-thumbs-o-up\" aria-hidden=\"true\" />}</button>\r\n\t\t\t</li>\r\n\t\t);\r\n\t}\t\r\n\t\r\n});\r\nexport default Filter;\r\n"]},"metadata":{},"sourceType":"module"}